<?php
$translate = $this->plugin('translate');
?>
<nav class="pagination" role="navigation">
    <?php if ($totalCount): ?>

        <?php
        $from = $offset + 1;
        $to = ($currentPage < $pageCount) ? $offset + $perPage : $totalCount;
        ?>

        <?php if ($pageCount > 1): ?>

            <div class="pager-wrapper">
                <span class="row-count"><?php echo sprintf($translate('%1$s–%2$s of %3$s'), $from, $to, $totalCount); ?></span>

                <!-- Prev Button -->
                <?php if ($currentPage != 1): ?>
                    <?php echo $this->hyperlink('', $previousPageUrl, ['class' => 'pagination-nav previous o-icon-prev', 'title' => $translate('Previous'), 'aria-label' => $translate('Previous')]); ?>
                <?php else: ?>
                    <span class="pagination-nav previous o-icon-prev disabled" aria-hidden="true"></span>
                <?php endif; ?>

                <!-- Pager -->
                <form class="pager" method="GET" action="">
                    <?php echo $this->queryToHiddenInputs(['page']); ?>
                    <label>
                        <?php echo $translate('Page'); ?>
                        <input type="text" id="pagination-page-input" name="page" class="page-input-top" value="<?php echo $currentPage; ?>" size="4" <?php echo ($pageCount == 1) ? 'readonly' : ''; ?> aria-label="<?php echo $translate('Page'); ?>">
                    </label>
                    <span class="page-count"><?php echo sprintf($translate('of %s'), $pageCount); ?></span>
                    <button type="submit" class="pagination-nav gotopage-btn" aria-label="<?php echo $this->escapeHtmlAttr($translate('Go')); ?>"><span class="sr-only"><?php echo $translate('Go'); ?></span></button>
                </form>

                <!-- Next Button -->
                <?php if ($currentPage < $pageCount): ?>
                    <?php echo $this->hyperlink('', $nextPageUrl, ['class' => 'pagination-nav next o-icon-next', 'title' => $translate('Next'), 'aria-label' => $translate('Next')]); ?>
                <?php else: ?>
                    <span class="pagination-nav next o-icon-next disabled" aria-hidden="true"></span>
                <?php endif; ?>
            </div>

        <?php else: ?>
            <span class="row-count"><?php echo sprintf($translate('%1$s–%2$s of %3$s'), $from, $to, $totalCount); ?></span>
        <?php endif; ?>

    <?php else: ?>
        <?php echo $translate('0 results'); ?>
    <?php endif; ?>
</nav>
