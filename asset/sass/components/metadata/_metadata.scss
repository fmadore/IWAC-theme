@use "../../abstracts/abstracts" as *;

// ==========================================================================
// Metadata
// Property list display for resource metadata with responsive layout
// ==========================================================================

.metadata {
    width: 100%;

    @media (min-width: $md) {
        width: auto;
    }

    >div:not(:last-child),
    .media-render:not(:last-child) {
        margin-block-end: var(--space-8);
    }

    .media-render>* {
        max-width: 100%;
    }

    dl {
        margin-block: 0 var(--space-8);

        &:last-child {
            margin-block-end: 0;
        }

        >.property {
            margin-block-end: var(--space-4);
            padding: var(--space-4);
            background: var(--surface);
            border-radius: var(--radius-sm);
            border-left: var(--accent-line-md) solid color-mix(in srgb, var(--primary) var(--accent-mix-medium), var(--border));
            box-shadow: var(--shadow-xs);
            transition:
                border-color var(--transition-fast),
                box-shadow var(--transition-fast),
                background-color var(--transition-fast);

            &:hover {
                border-left-color: var(--primary);
                box-shadow: var(--shadow-sm);
                background: color-mix(in srgb, var(--primary) 2%, var(--surface));
            }

            &::after {
                content: "";
                display: table;
                clear: both;
            }

            dt {
                // Override base dt styles - metadata labels should be smaller
                // Accent-tinted for visual interest
                color: color-mix(in srgb, var(--primary) 55%, var(--muted));
                font-size: var(--text-sm);
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.025em;
                margin-block-end: var(--space-2);
                padding-inline-end: var(--space-4);

                &:not(.sidebar-region &) {
                    @media (min-width: $md) {
                        margin-block-end: 0;
                        float: left;
                        width: 160px;
                    }
                }
            }

            dd {
                display: flex;
                flex-wrap: wrap;
                gap: var(--space-1);
                margin-block: 0 var(--space-4);
                margin-inline: 0;
                word-break: break-word;
                overflow-wrap: anywhere;
                white-space: normal;
                align-items: flex-start;

                &:not(.sidebar-region &) {
                    @media (min-width: $md) {
                        margin-inline-start: 160px;
                    }
                }

                &:last-child {
                    margin-block-end: 0;
                }
            }

            .language {
                margin-inline-end: var(--space-2);
            }
        }
    }

    .value.resource {
        .resource-link {
            display: inline-flex;
            align-items: center;
            transition: color var(--transition-fast);

            &:hover {
                color: var(--primary);
            }
        }

        img {
            flex-shrink: 0;
            height: 60px;
            margin-inline-end: var(--space-4);
            object-fit: cover;
            width: 60px;
            border-radius: var(--radius-sm);
        }
    }

    .media-list {
        dd {
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            margin-block-end: var(--space-4) !important;
            overflow: hidden;
            transition: border-color var(--transition-fast);

            &:last-child {
                margin-block-end: 0 !important;
            }

            &:hover {
                border-color: var(--primary);
            }
        }

        .resource-link {
            display: flex;
            align-items: center;

            img {
                flex-shrink: 0;
                height: 100px;
                object-fit: cover;
                width: 100px;
            }

            .resource-name {
                padding: var(--space-4);
            }
        }
    }
}