@use "../../abstracts/abstracts" as *;

.annotation-btn {
    display: inline-flex;
    align-items: center;
    padding: 0 var(--space-2);
    position: relative;

    .has-annotation {
        color: var(--primary);
        transition: color var(--transition-fast);

        &:hover {
            color: var(--primary-hover);
        }
    }

    &:hover .annotation-tooltip,
    &:focus-within .annotation-tooltip {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .annotation-tooltip {
        opacity: 0;
        visibility: hidden;
        transform: translateY(4px);
        position: absolute;
        inset-inline-start: 0;
        bottom: var(--space-2);
        transition:
            opacity var(--transition-fast),
            transform var(--transition-fast),
            visibility var(--transition-fast);
        z-index: var(--z-tooltip);

        @media (min-width: $lg) {
            bottom: var(--space-1);
        }

        &__wrapper {
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius-md) var(--radius-md) var(--radius-md) 0;
            box-shadow: var(--shadow-lg);
            font-size: var(--text-xs);
            width: 230px;
            padding: var(--space-4) var(--space-4) var(--space-8);

            @media (min-width: $lg) {
                padding: var(--space-4);
            }

            &.below-button {
                border-radius: 0 var(--radius-md) var(--radius-md) var(--radius-md);
            }
        }

        &__heading {
            font-size: var(--text-sm);
        }

        .property:not(:last-child) {
            margin-block-end: var(--space-4);
        }

        dt {
            float: left;
            font-size: var(--text-xs);
            margin-block-end: var(--space-2);
            padding-inline-end: var(--space-3);
            width: 70px !important;
        }

        dd {
            font-size: var(--text-xs);
            margin: 0;
            margin-inline-start: 70px !important;

            &.resource.media img {
                display: block;
                max-width: 80px;
                border-radius: var(--radius-sm);
            }
        }
    }
}
